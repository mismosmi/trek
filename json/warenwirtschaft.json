{
    "name": "warenwirtschaft",
    "title": "Warenwirtschaft",
    "user": "simple",
    "sheets": {
        "product": {
            "title": "Produkte",
            "columns": [
                {
                    "name": "id",
                    "title": "Produkt ID",
                    "class": 0,
                    "barcode": "ean"
                },
                {
                    "name": "category",
                    "title": "Kategorie",
                    "class": 1,
                    "type": "string"
                },
                {
                    "name": "name",
                    "title": "Produktname",
                    "class": 1,
                    "type": "string",
                    "required": true
                },
                {
                    "name": "unitprice",
                    "title": "Preis/Einheit",
                    "class": 1,
                    "type": "euro",
                    "required": true
                },
                {
                    "name": "unit",
                    "title": "Teile/Einheit",
                    "class": 1,
                    "type": "int",
                    "required": true,
                    "default": 1
                },
                {
                    "name": "pieceprice",
                    "title": "Preis/Teil",
                    "class": 2,
                    "type": "euro",
                    "js": "tv.unitprice / tv.unit"
                },
                {
                    "name": "notes",
                    "title": "Notizen",
                    "class": 1,
                    "type": "string"
                }
            ]
        },
        "project": {
            "title": "Projekte",
            "columns": [
                {
                    "name": "id",
                    "title": "Projekt ID",
                    "class": 0,
                    "barcode": "auto"
                },
                {
                    "name": "category",
                    "title": "Kategorie",
                    "class": 1,
                    "type": "string"
                },
                {
                    "name": "zone",
                    "title": "Zone",
                    "class": 1,
                    "type": "string",
                    "required": true
                },
                {
                    "name": "what",
                    "title": "Projektdefinition",
                    "class": 1,
                    "type": "string",
                    "required": true
                },
                {
                    "name": "department",
                    "title": "Department/Team",
                    "class": 1,
                    "type": "string"
                },
                {
                    "name": "responsibility",
                    "title": "Verantwortliche Person",
                    "class": 1,
                    "type": "string"
                },
                {
                    "name": "budgetsum",
                    "title": "Summe",
                    "class": 1,
                    "type": "euro"
                },
                {
                    "name": "spending",
                    "title": "Budget Ausgegeben",
                    "class": 2,
                    "type": "euro",
                    "js": "tv.outgoing.sum('ordersum') - tv.retoure.sum('ordersum')"
                },
                {
                    "name": "budgetleft",
                    "title": "Budget Ãœbrig",
                    "class": 2,
                    "type": "euro",
                    "js": "tv.budgetsum - tv.spending"
                },
                {
                    "name": "notes",
                    "title": "Notizen",
                    "class": 1,
                    "type": "string"
                }
            ]
        },
        "incoming": {
            "title": "Wareneingang",
            "columns": [
                {
                    "table": "project",
                    "title": "Projekt ID",
                    "class": 3
                },
                {
                    "name": "whatproject",
                    "title": "Projekt",
                    "class": 2,
                    "js": "tv.project.what",
                    "type": "string"
                },
                {
                    "table": "product",
                    "title": "Produkt ID",
                    "class": 3,
                    "required": true
                },
                {
                    "name": "productcategory",
                    "title": "Produktkategorie",
                    "class": 2,
                    "js": "tv.product.category"
                },
                {
                    "name": "productname",
                    "title": "Produktname",
                    "class": 2,
                    "js": "tv.product.name",
                    "type": "string"
                },
                {
                    "name": "unitprice",
                    "title": "Preis/Einheit",
                    "class": 2,
                    "type": "euro",
                    "js": "tv.product.unitprice"
                },
                {
                    "name": "quantity",
                    "title": "Anzahl Einheiten",
                    "class": 1,
                    "type": "int",
                    "required": true,
                    "default": 1
                },
                {
                    "name": "ordersum",
                    "title": "Summe Bestellung",
                    "class": 2,
                    "type": "euro",
                    "js": "tv.quantity * tv.product.unitprice"
                },
                {
                    "name": "notes",
                    "title": "Notizen",
                    "class": 1,
                    "type": "string"
                },
                {
                    "name": "modifieddate",
                    "title": "Zuletzt bearbeitet",
                    "class": 0
                },
                {
                    "name": "modifieduser",
                    "title": "Bearbeitet von",
                    "class": 0
                }
            ]
        },
        "outgoing": {
            "title": "Warenausgang",
            "columns": [
                {
                    "table": "project",
                    "title": "Projekt ID",
                    "class": 3,
                    "required": true
                },
                {
                    "name": "whatproject",
                    "title": "Projekt",
                    "class": 2,
                    "js": "tv.project.what",
                    "type": "string"
                },
                {
                    "table": "product",
                    "title": "Produkt ID",
                    "class": 3,
                    "required": true
                },
                {
                    "name": "productcategory",
                    "title": "Produktkategorie",
                    "class": 2,
                    "js": "tv.product.category"
                },
                {
                    "name": "productname",
                    "title": "Produktname",
                    "class": 2,
                    "js": "tv.product.name",
                    "type": "string"
                },
                {
                    "name": "unitprice",
                    "title": "Preis/Einheit",
                    "class": 2,
                    "type": "euro",
                    "js": "tv.product.unitprice"
                },
                {
                    "name": "quantity",
                    "title": "Anzahl Einheiten",
                    "class": 1,
                    "type": "int",
                    "required": true,
                    "default": 1
                },
                {
                    "name": "ordersum",
                    "title": "Summe Bestellung",
                    "class": 2,
                    "type": "euro",
                    "js": "tv.quantity * tv.product.unitprice"
                },
                {
                    "name": "notes",
                    "title": "Notizen",
                    "class": 1,
                    "type": "string"
                },
                {
                    "name": "modifieddate",
                    "title": "Zuletzt bearbeitet",
                    "class": 0
                },
                {
                    "name": "modifieduser",
                    "title": "Bearbeitet von",
                    "class": 0
                }
            ]
        },
        "retoure": {
            "title": "Retouren",
            "column_reference": "outgoing"
        }
    },
    "order": [
        "product",
        "project",
        "incoming",
        "outgoing",
        "retoure"
    ]
}
